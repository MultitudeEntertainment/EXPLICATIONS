<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Tchernobyl – Histoire, physique, schémas interactifs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --bg: #020617;
            --bg-card: rgba(15,23,42,0.96);
            --border: #1f2937;
            --text: #e5e7eb;
            --muted: #9ca3af;
            --accent: #fbbf24;
            --accent-strong: #f97316;
            --danger: #ef4444;
            --ok: #22c55e;
            --blue: #0ea5e9;
            --blue-dark: #1d4ed8;
            --red: #ef4444;
            --tooltip-bg: #020617;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #111827 0, #020617 45%, #000 100%);
            color: var(--text);
            line-height: 1.6;
        }
        a { color: #38bdf8; }
        .page {
            max-width: 1300px;
            margin: 0 auto;
            padding: 20px 16px 60px;
        }
        header { margin-bottom: 20px; }
        h1, h2, h3, h4 {
            color: var(--accent);
            margin-top: 0;
        }
        p { margin-top: 0; }
        .tag {
            display: inline-block;
            padding: 2px 10px;
            border-radius: 999px;
            font-size: 11px;
            background: #111827;
            color: var(--muted);
            margin-right: 6px;
            text-transform: uppercase;
            letter-spacing: .04em;
        }
        .highlight {
            color: var(--accent-strong);
            font-weight: 600;
        }
        .grid-main {
            display: grid;
            grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.1fr);
            gap: 18px;
        }
        @media (max-width: 1000px) {
            .grid-main { grid-template-columns: 1fr; }
        }
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 18px 20px;
            border: 1px solid var(--border);
            box-shadow: 0 0 0 1px #020617, 0 18px 40px rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
        }
        .card + .card { margin-top: 14px; }
        ul { padding-left: 20px; }
        details { margin: 6px 0 8px; }
        summary {
            cursor: pointer;
            font-weight: 600;
        }
        .note {
            font-size: 13px;
            color: var(--muted);
        }
        .toc ul { margin: 0; }
        .toc li { margin-bottom: 4px; }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }
        .btn {
            border-radius: 999px;
            border: 1px solid #1f2937;
            background: #020617;
            color: var(--text);
            padding: 6px 12px;
            font-size: 13px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background .15s, border-color .15s, transform .1s;
        }
        .btn:hover {
            background: #111827;
            border-color: #374151;
            transform: translateY(-1px);
        }
        .btn-primary {
            border-color: var(--accent);
            background: #111827;
        }
        .btn-primary:hover { background: #1f2937; }

        /* Tooltip system */
        .info-dot {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 16px;
            height: 16px;
            border-radius: 999px;
            background: #111827;
            border: 1px solid #4b5563;
            color: var(--accent);
            font-size: 11px;
            cursor: pointer;
            margin-left: 4px;
            position: relative;
        }
        .info-dot:hover {
            background: #020617;
            border-color: var(--accent);
        }
        .tooltip {
            position: absolute;
            z-index: 20;
            min-width: 180px;
            max-width: 260px;
            background: var(--tooltip-bg);
            border-radius: 10px;
            border: 1px solid #374151;
            padding: 8px 10px;
            font-size: 12px;
            color: var(--text);
            box-shadow: 0 12px 30px rgba(0,0,0,0.7);
            transform: translate(-50%, -110%);
        }
        .tooltip-title {
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 4px;
        }
        .tooltip-arrow {
            position: absolute;
            left: 50%;
            bottom: -6px;
            width: 10px;
            height: 10px;
            background: var(--tooltip-bg);
            border-left: 1px solid #374151;
            border-bottom: 1px solid #374151;
            transform: translateX(-50%) rotate(45deg);
        }

        /* RBMK core + void */
        .diagram-core {
            position: relative;
            background: radial-gradient(circle at center, #020617 0, #020617 40%, #000 100%);
            border-radius: 14px;
            border: 1px solid #111827;
            padding: 14px;
            overflow: hidden;
            min-height: 260px;
            margin-bottom: 12px;
        }
        .diagram-title {
            font-size: 13px;
            color: var(--muted);
            margin-bottom: 6px;
        }
        .core-grid {
            position: relative;
            width: 100%;
            max-width: 320px;
            aspect-ratio: 1 / 1;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(6, 1fr);
            gap: 3px;
        }
        .core-cell {
            border-radius: 4px;
            background: #020617;
            border: 1px solid #111827;
            position: relative;
            overflow: hidden;
        }
        .core-cell::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, #0ea5e9 0, transparent 60%);
            opacity: .25;
            transition: opacity .3s, background .3s;
        }
        body[data-rbmk="stable"] .core-cell::before {
            opacity: .25;
            background: radial-gradient(circle at center, #0ea5e9 0, transparent 60%);
        }
        body[data-rbmk="unstable"] .core-cell::before {
            opacity: .4;
            background: radial-gradient(circle at center, #f97316 0, transparent 60%);
        }
        body[data-rbmk="az5"] .core-cell::before {
            opacity: .5;
            background: radial-gradient(circle at center, #f97316 0, transparent 60%);
        }
        body[data-rbmk="deformation"] .core-cell::before,
        body[data-rbmk="explosion"] .core-cell::before {
            opacity: .7;
            background: radial-gradient(circle at center, #ef4444 0, transparent 60%);
        }
        .rod-container {
            position: absolute;
            inset: 8% 10% 8% 10%;
        }
        .rod-slot {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 10%;
        }
        .rod-slot:nth-child(1) { left: 10%; }
        .rod-slot:nth-child(2) { left: 30%; }
        .rod-slot:nth-child(3) { left: 50%; }
        .rod-slot:nth-child(4) { left: 70%; }
        .rod-slot:nth-child(5) { left: 90%; transform: translateX(-100%); }
        .rod {
            position: absolute;
            width: 10%;
            left: 0;
            right: 0;
            margin: 0 auto;
            height: 130%;
            background: linear-gradient(to bottom, #4b5563 0, #111827 40%, #020617 100%);
            border-radius: 999px;
            box-shadow: 0 0 10px rgba(15,23,42,0.8);
            transform: translateY(-110%);
            transition: transform .6s cubic-bezier(.22,.61,.36,1), background .3s, box-shadow .3s;
        }
        .rod-tip {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0 auto;
            width: 100%;
            height: 18%;
            border-radius: 999px;
            background: linear-gradient(to bottom, #f97316, #fbbf24);
            box-shadow: 0 0 8px rgba(248,181,0,0.9);
        }
        .rod-label {
            position: absolute;
            top: 6px;
            right: 6px;
            font-size: 10px;
            color: var(--muted);
            background: rgba(15,23,42,0.8);
            padding: 2px 6px;
            border-radius: 999px;
            border: 1px solid #1f2937;
        }
        body[data-rbmk="stable"] .rod { transform: translateY(-40%); }
        body[data-rbmk="unstable"] .rod { transform: translateY(-80%); }
        body[data-rbmk="az5"] .rod { transform: translateY(-10%); }
        body[data-rbmk="deformation"] .rod { transform: translateY(-35%); }
        body[data-rbmk="deformation"] .rod::after {
            content: "";
            position: absolute;
            bottom: 25%;
            left: -10%;
            right: -10%;
            height: 12%;
            border-radius: 999px;
            background: rgba(239,68,68,0.4);
            box-shadow: 0 0 10px rgba(239,68,68,0.8);
        }
        body[data-rbmk="explosion"] .rod {
            transform: translateY(-200%) rotate(8deg);
            box-shadow: 0 0 25px rgba(239,68,68,1);
            background: linear-gradient(to bottom, #ef4444, #7f1d1d);
        }
        body[data-rbmk="explosion"] .core-grid {
            animation: shake .4s ease-in-out infinite;
        }
        @keyframes shake {
            0% { transform: translate(0, 0); }
            25% { transform: translate(-2px, 1px); }
            50% { transform: translate(2px, -1px); }
            75% { transform: translate(-1px, -2px); }
            100% { transform: translate(0, 0); }
        }

        .void-panel {
            background: #020617;
            border-radius: 12px;
            border: 1px solid #111827;
            padding: 10px 12px;
            font-size: 13px;
        }
        .void-bar {
            position: relative;
            height: 12px;
            border-radius: 999px;
            background: #020617;
            border: 1px solid #1f2937;
            overflow: hidden;
            margin-bottom: 6px;
        }
        .void-fill {
            position: absolute;
            inset: 0;
            width: 20%;
            border-radius: 999px;
            background: linear-gradient(90deg, #0ea5e9, #22c55e);
            transition: width .5s ease, background .5s ease;
        }
        .void-labels {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--muted);
        }
        .void-note {
            font-size: 11px;
            color: var(--muted);
            margin-top: 4px;
        }
        body[data-rbmk="stable"] .void-fill {
            width: 25%;
            background: linear-gradient(90deg, #0ea5e9, #22c55e);
        }
        body[data-rbmk="unstable"] .void-fill {
            width: 55%;
            background: linear-gradient(90deg, #22c55e, #f97316);
        }
        body[data-rbmk="az5"] .void-fill {
            width: 65%;
            background: linear-gradient(90deg, #22c55e, #f97316);
        }
        body[data-rbmk="deformation"] .void-fill {
            width: 80%;
            background: linear-gradient(90deg, #f97316, #ef4444);
        }
        body[data-rbmk="explosion"] .void-fill {
            width: 100%;
            background: linear-gradient(90deg, #f97316, #ef4444);
        }

        /* PWR diagram */
        .pwr-card-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }
        .pwr-diagram-wrapper {
            margin-top: 8px;
            background: #020617;
            border-radius: 12px;
            border: 1px solid #111827;
            padding: 10px;
        }
        svg {
            max-width: 100%;
            height: auto;
            display: block;
        }
        .pwr-label {
            font-size: 11px;
            fill: var(--text);
        }
        .flow-hot {
            stroke: var(--red);
            stroke-width: 4;
            fill: none;
            stroke-linecap: round;
            stroke-dasharray: 8 8;
            animation: flowHot 1.4s linear infinite;
        }
        .flow-cold {
            stroke: var(--blue);
            stroke-width: 4;
            fill: none;
            stroke-linecap: round;
            stroke-dasharray: 8 8;
            animation: flowCold 1.4s linear infinite;
        }
        @keyframes flowHot {
            to { stroke-dashoffset: -16; }
        }
        @keyframes flowCold {
            to { stroke-dashoffset: 16; }
        }
        .core-gradient-hot {
            animation: coreHeat 3s ease-in-out infinite alternate;
        }
        @keyframes coreHeat {
            0% { stop-color: #f97316; }
            100% { stop-color: #ef4444; }
        }

        /* Timeline */
        .timeline {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .timeline-step {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #111827;
            background: #020617;
            cursor: pointer;
            transition: background .2s, border-color .2s, transform .1s;
        }
        .timeline-step:hover {
            background: #030712;
            transform: translateY(-1px);
        }
        .timeline-step.active {
            border-color: var(--accent);
            background: #111827;
        }
        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 999px;
            background: var(--accent);
            margin-top: 4px;
            flex-shrink: 0;
        }
        .timeline-time {
            font-size: 12px;
            color: var(--muted);
        }
        .timeline-title {
            font-weight: 600;
        }

        /* Europe map + cloud day-by-day */
        .map-card {
            margin-top: 14px;
        }
        .map-wrapper {
            margin-top: 8px;
            background: #020617;
            border-radius: 12px;
            border: 1px solid #111827;
            padding: 10px;
            position: relative;
            overflow: hidden;
        }
        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }
        .day-label {
            font-size: 13px;
            color: var(--accent);
        }
        .cloud-layer {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }
        .cloud-shape {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(248,250,252,0.9), transparent 60%),
                        radial-gradient(circle at 70% 40%, rgba(248,250,252,0.8), transparent 60%),
                        radial-gradient(circle at 50% 70%, rgba(248,250,252,0.7), transparent 60%);
            filter: blur(1px);
            opacity: 0;
            transition: opacity .5s ease, transform 1.2s ease;
        }
        .cloud-visible {
            opacity: 0.85;
        }

        footer {
            margin-top: 26px;
            font-size: 12px;
            color: var(--muted);
            border-top: 1px solid #111827;
            padding-top: 10px;
        }
    </style>
</head>
<body data-rbmk="stable">
<div class="page">
    <header>
        <h1>Tchernobyl – Histoire, physique, schémas interactifs & carte de l’Europe</h1>
        <p>
            Une page pour comprendre en profondeur la catastrophe de <span class="highlight">Tchernobyl (26 avril 1986)</span> :
            contexte historique, déroulé heure par heure, <strong>physique du RBMK</strong>, comparaison avec un
            <strong>réacteur à eau pressurisée (PWR)</strong>, et un <strong>nuage radioactif animé jour par jour</strong>
            au‑dessus de l’Europe, avec des <strong>“?” explicatifs</strong> sur chaque notion technique.
        </p>
        <span class="tag">Tchernobyl</span>
        <span class="tag">RBMK‑1000</span>
        <span class="tag">PWR</span>
        <span class="tag">Physique</span>
        <span class="tag">Carte animée</span>
        <span class="tag">Pédagogique</span>
    </header>

    <div class="card toc">
        <h2>Plan</h2>
        <ul>
            <li><a href="#histoire">1. Histoire et contexte (détaillé)</a></li>
            <li><a href="#physique">2. Physique du RBMK – explications des notions techniques</a></li>
            <li><a href="#timeline">3. Timeline interactive de la nuit du 26 avril</a></li>
            <li><a href="#pwr">4. Schéma animé d’un réacteur à eau pressurisée (PWR)</a></li>
            <li><a href="#nuage">5. Nuage radioactif sur l’Europe – animation jour par jour</a></li>
            <li><a href="#consequences">6. Conséquences et enseignements</a></li>
        </ul>
    </div>

    <div class="grid-main">
        <main>
            <!-- 1. HISTOIRE -->
            <section id="histoire" class="card">
                <h2>1. Histoire et contexte – avant, pendant, après</h2>
                <details open>
                    <summary>1.1 Avant l’accident : pourquoi Tchernobyl existe</summary>
                    <p>
                        Dans les années 1970–1980, l’URSS construit de grandes centrales nucléaires pour alimenter
                        l’industrie et les villes. Le site de Tchernobyl, en Ukraine, accueille plusieurs réacteurs
                        de type <strong>RBMK‑1000</strong>
                        <span class="info-dot" data-tooltip="rbmk">?</span>.
                    </p>
                    <ul>
                        <li><strong>Pression politique :</strong> produire beaucoup, éviter les coupures, montrer la puissance technologique.</li>
                        <li><strong>Culture du secret :</strong> les problèmes techniques sont peu partagés, la communication externe est limitée.</li>
                        <li><strong>Formation :</strong> les opérateurs sont compétents, mais pas toujours informés des défauts de conception du réacteur.</li>
                    </ul>
                </details>

                <details open>
                    <summary>1.2 Le test de sûreté : idée logique, exécution catastrophique</summary>
                    <p>
                        L’idée du test : vérifier si, en cas de <strong>perte totale d’alimentation électrique</strong>,
                        l’inertie des turbines suffit à alimenter les pompes de refroidissement pendant quelques dizaines de secondes,
                        le temps que les générateurs diesel démarrent.
                    </p>
                    <ul>
                        <li><strong>Test déjà tenté :</strong> un essai précédent n’avait pas été concluant.</li>
                        <li><strong>Test repoussé :</strong> la demande du réseau électrique retarde l’essai, le réacteur reste longtemps à puissance intermédiaire.</li>
                        <li><strong>Moment défavorable :</strong> le test est finalement réalisé de nuit, avec une équipe fatiguée et un réacteur dans une zone instable.</li>
                    </ul>
                </details>

                <details>
                    <summary>1.3 La nuit du 25 au 26 avril 1986</summary>
                    <p>
                        Le réacteur est descendu à une puissance très basse, puis remonté de façon non idéale. Beaucoup de
                        <strong>barres de contrôle</strong>
                        <span class="info-dot" data-tooltip="barres">?</span>
                        sont retirées pour maintenir la puissance, ce qui rend le cœur très sensible aux variations de vapeur.
                    </p>
                    <p>
                        Plusieurs systèmes de sûreté sont désactivés ou contournés pour permettre le test. La situation est
                        déjà dangereuse avant même de commencer la séquence finale.
                    </p>
                </details>
            </section>

            <!-- 2. PHYSIQUE -->
            <section id="physique" class="card">
                <h2>2. Physique du RBMK – “Pourquoi” les phénomènes</h2>
                <p>
                    Le RBMK‑1000 est un réacteur <strong>modéré au graphite</strong>
                    <span class="info-dot" data-tooltip="graphite">?</span>
                    et <strong>refroidi à l’eau légère</strong>
                    <span class="info-dot" data-tooltip="eau">?</span>, avec des
                    <strong>canaux de pression</strong>
                    <span class="info-dot" data-tooltip="canaux">?</span>.
                    Deux points clés : <strong>coefficient de vide positif</strong>
                    <span class="info-dot" data-tooltip="vide">?</span> et
                    <strong>barres de contrôle mal conçues</strong>
                    <span class="info-dot" data-tooltip="barres-graphite">?</span>.
                </p>

                <details open>
                    <summary>2.1 Quand l’eau bout → plus de vapeur → moins d’absorption de neutrons : pourquoi ?</summary>
                    <p>
                        Dans le cœur, les neutrons peuvent :
                    </p>
                    <ul>
                        <li>être <strong>ralentis</strong> (modérés) par le graphite,</li>
                        <li>être <strong>absorbés</strong> par l’eau, le combustible ou les barres de contrôle,</li>
                        <li>provoquer une <strong>fission</strong>
                            <span class="info-dot" data-tooltip="fission">?</span> dans l’uranium‑235.</li>
                    </ul>
                    <p><strong>Densité :</strong> l’eau liquide est dense, la vapeur beaucoup moins.</p>
                    <ul>
                        <li>En eau liquide, il y a beaucoup de molécules par unité de volume → beaucoup de noyaux capables
                            d’<strong>absorber des neutrons</strong>.</li>
                        <li>En vapeur, le même volume contient beaucoup moins de molécules → <strong>moins d’absorption</strong>.</li>
                    </ul>
                    <p>
                        Donc, quand l’eau bout et se transforme en vapeur, la densité de matière absorbante diminue :
                        <strong>les neutrons sont moins absorbés par l’eau</strong>. Le graphite, lui, reste solide et continue
                        de modérer très bien les neutrons.
                    </p>
                    <p class="note">
                        Résultat : plus de vapeur = moins d’absorption par l’eau, mais toujours autant de modération par le graphite
                        → les neutrons restent efficaces pour provoquer des fissions → <strong>la réactivité augmente</strong>.
                    </p>
                </details>

                <details open>
                    <summary>2.2 Coefficient de vide positif : boucle de rétroaction</summary>
                    <p>
                        Le <strong>coefficient de vide</strong>
                        <span class="info-dot" data-tooltip="vide">?</span>
                        décrit comment la réactivité change quand il y a plus de vapeur (donc plus de “vide”) dans le cœur.
                    </p>
                    <ul>
                        <li>La puissance augmente → l’eau chauffe → elle bout davantage → plus de vapeur.</li>
                        <li>Plus de vapeur → moins d’absorption → plus de neutrons efficaces → la puissance augmente encore.</li>
                    </ul>
                    <p>
                        C’est une <strong>boucle de rétroaction positive</strong> : une petite augmentation de puissance peut
                        s’auto‑amplifier. Dans un réacteur moderne bien conçu (PWR, par exemple), on cherche au contraire un
                        <strong>coefficient de vide négatif</strong> : plus de vapeur → moins de réactivité → la puissance se calme.
                    </p>
                </details>

                <details open>
                    <summary>2.3 Barres de contrôle : pointe en graphite et blocage mécanique</summary>
                    <p>
                        Les barres de contrôle absorbent les neutrons pour réduire la puissance. Dans le RBMK de Tchernobyl :
                    </p>
                    <ul>
                        <li>La partie basse des barres est en <strong>graphite</strong>, au‑dessus la partie absorbante.</li>
                        <li>Au début de l’insertion, la pointe en graphite <strong>remplace l’eau</strong> dans le bas du cœur.</li>
                        <li>Le graphite modère mieux que l’eau → <strong>augmentation locale de la réactivité</strong> au moment critique.</li>
                    </ul>
                    <details>
                        <summary>Pourquoi les barres ne s’enfoncent pas complètement ?</summary>
                        <p>
                            Quand la puissance grimpe brutalement :
                        </p>
                        <ul>
                            <li>Les canaux de combustible chauffent très vite → <strong>dilatation</strong> et <strong>déformation</strong>.</li>
                            <li>Les tubes se tordent légèrement, se resserrent ou se décalent.</li>
                            <li>Les barres de contrôle, qui glissent normalement dans ces canaux, se retrouvent <strong>coincées</strong>.</li>
                        </ul>
                        <p class="note">
                            Résultat : certaines barres restent <strong>bloquées partiellement</strong>, elles ne descendent pas jusqu’en bas.
                            L’arrêt complet du réacteur devient impossible au moment où il serait vital.
                        </p>
                    </details>
                </details>
            </section>

            <!-- 3. TIMELINE -->
            <section id="timeline" class="card">
                <h2>3. Timeline interactive de la nuit du 26 avril 1986</h2>
                <p>
                    Clique sur chaque étape pour voir l’état du cœur RBMK (schéma à droite) : position des barres de contrôle,
                    coefficient de vide, déformation et explosion.
                </p>
                <div class="controls">
                    <button class="btn btn-primary" id="play-sequence">▶ Rejouer la séquence complète</button>
                    <button class="btn" id="reset-sequence">⏹ Remettre à l’état stable</button>
                </div>
                <div class="timeline" id="timeline-steps">
                    <div class="timeline-step" data-state="stable" data-index="0">
                        <div class="timeline-dot"></div>
                        <div>
                            <div class="timeline-title">Avant 1 h 00 – Réacteur à faible puissance</div>
                            <div class="timeline-time">Puissance ~200 MW<sub>th</sub>, beaucoup de barres retirées</div>
                            <p class="note">
                                Le réacteur est dans une zone instable, avec un coefficient de vide positif dangereux.
                            </p>
                        </div>
                    </div>
                    <div class="timeline-step" data-state="unstable" data-index="1">
                        <div class="timeline-dot"></div>
                        <div>
                            <div class="timeline-title">1 h 23 – Début du test</div>
                            <div class="timeline-time">Modification du débit d’eau et de vapeur</div>
                            <p class="note">
                                Moins d’eau circule, plus de vapeur se forme → la réactivité augmente, le cœur devient instable.
                            </p>
                        </div>
                    </div>
                    <div class="timeline-step" data-state="az5" data-index="2">
                        <div class="timeline-dot"></div>
                        <div>
                            <div class="timeline-title">1 h 23 min 40 s – Appui sur AZ‑5</div>
                            <div class="timeline-time">Ordre d’arrêt d’urgence (SCRAM)</div>
                            <p class="note">
                                Les barres descendent, mais la pointe en graphite augmente d’abord la réactivité dans le bas du cœur.
                            </p>
                        </div>
                    </div>
                    <div class="timeline-step" data-state="deformation" data-index="3">
                        <div class="timeline-dot"></div>
                        <div>
                            <div class="timeline-title">1 h 23 min 41–43 s – Déformation et blocage des barres</div>
                            <div class="timeline-time">Montée de puissance extrême</div>
                            <p class="note">
                                Les canaux se déforment, certaines barres se coincent et ne s’enfoncent pas complètement :
                                l’arrêt complet est impossible.
                            </p>
                        </div>
                    </div>
                    <div class="timeline-step" data-state="explosion" data-index="4">
                        <div class="timeline-dot"></div>
                        <div>
                            <div class="timeline-title">1 h 23 min 44 s – Explosion de vapeur</div>
                            <div class="timeline-time">Destruction du cœur et du bâtiment</div>
                            <p class="note">
                                Explosion de vapeur, destruction du cœur, incendie du graphite, rejets massifs de radioactivité.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 6. CONSEQUENCES -->
            <section id="consequences" class="card">
                <h2>6. Conséquences et enseignements</h2>
                <details open>
                    <summary>6.1 Conséquences humaines et environnementales</summary>
                    <ul>
                        <li><strong>Liquidateurs :</strong> centaines de milliers de personnes mobilisées pour éteindre l’incendie,
                            déblayer, construire le sarcophage.</li>
                        <li><strong>Évacuation :</strong> la ville de Pripiat est évacuée le lendemain, puis une large zone autour de la centrale.</li>
                        <li><strong>Contamination :</strong> sols, forêts, cultures, eau… avec des radionucléides comme l’iode‑131 et le césium‑137.</li>
                    </ul>
                </details>
                <details>
                    <summary>6.2 Impact sur le nucléaire dans le monde</summary>
                    <ul>
                        <li><strong>Renforcement de la sûreté :</strong> nouvelles règles, nouvelles organisations internationales (comme l’AIEA renforcée).</li>
                        <li><strong>Conception des réacteurs :</strong> priorité aux coefficients de vide négatifs, systèmes de sûreté redondants.</li>
                        <li><strong>Transparence :</strong> Tchernobyl a montré que cacher un accident est impossible à l’échelle planétaire.</li>
                    </ul>
                </details>
            </section>
        </main>

        <aside>
            <!-- RBMK diagram -->
            <div class="card">
                <div class="diagram-title">
                    Schéma simplifié du cœur RBMK‑1000 (barres de contrôle, graphite, eau/vapeur)
                </div>
                <div class="diagram-core">
                    <div class="core-grid">
                        <!-- 6x6 cells -->
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                        <div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div><div class="core-cell"></div>
                    </div>
                    <div class="rod-container">
                        <div class="rod-slot"><div class="rod"><div class="rod-tip"></div></div></div>
                        <div class="rod-slot"><div class="rod"><div class="rod-tip"></div></div></div>
                        <div class="rod-slot"><div class="rod"><div class="rod-tip"></div></div></div>
                        <div class="rod-slot"><div class="rod"><div class="rod-tip"></div></div></div>
                        <div class="rod-slot"><div class="rod"><div class="rod-tip"></div></div></div>
                    </div>
                    <div class="rod-label">
                        Barres de contrôle
                        <span class="info-dot" data-tooltip="barres">?</span>
                        – pointe en graphite
                        <span class="info-dot" data-tooltip="barres-graphite">?</span>
                    </div>
                </div>
                <div class="void-panel">
                    <div class="diagram-title">
                        Coefficient de vide positif
                        <span class="info-dot" data-tooltip="vide">?</span> – eau → vapeur → réactivité
                    </div>
                    <div class="void-bar">
                        <div class="void-fill" id="void-fill"></div>
                    </div>
                    <div class="void-labels">
                        <span>Peu de vapeur (eau liquide)</span>
                        <span>Beaucoup de vapeur (vide élevé)</span>
                    </div>
                    <div class="void-note" id="void-note">
                        État stable : le vide est modéré, la puissance est contrôlée.
                    </div>
                </div>
                <div style="margin-top:8px;font-size:12px;color:var(--muted);">
                    Le schéma montre la descente des barres, la pointe en graphite, puis le blocage partiel
                    lorsque les canaux se déforment.
                </div>
            </div>

            <!-- PWR diagram -->
            <div id="pwr" class="card" style="margin-top:14px;">
                <div class="pwr-card-title">
                    <h3 style="margin:0;">4. Réacteur à eau pressurisée (PWR)</h3>
                    <span style="font-size:11px;color:var(--muted);">Réacteur moderne avec coefficient de vide négatif
                        <span class="info-dot" data-tooltip="vide-negatif">?</span></span>
                </div>
                <p class="note">
                    Exemple de réacteur nucléaire moderne : cœur dans une cuve sous pression, circuit primaire fermé,
                    générateur de vapeur, pompe primaire.
                </p>
                <div class="pwr-diagram-wrapper">
                    <svg viewBox="0 0 600 360">
                        <defs>
                            <linearGradient id="coreHot" x1="0" y1="0" x2="0" y2="1">
                                <stop offset="0%" stop-color="#f97316" class="core-gradient-hot"/>
                                <stop offset="100%" stop-color="#b91c1c"/>
                            </linearGradient>
                        </defs>

                        <rect x="0" y="0" width="600" height="360" fill="#020617" rx="16"/>

                        <!-- Cuve du réacteur -->
                        <rect x="80" y="60" width="120" height="220" rx="40" ry="40" fill="#111827" stroke="#4b5563" stroke-width="3"/>
                        <rect x="105" y="110" width="70" height="140" rx="20" ry="20" fill="url(#coreHot)" stroke="#fecaca" stroke-width="2"/>
                        <text x="140" y="50" text-anchor="middle" class="pwr-label">1. Cœur du réacteur</text>

                        <!-- Plénum inférieur -->
                        <rect x="95" y="230" width="90" height="30" rx="10" ry="10" fill="#0f172a" stroke="#1f2937" stroke-width="2"/>
                        <text x="140" y="280" text-anchor="middle" class="pwr-label">2. Plénum inférieur</text>

                        <!-- Générateur de vapeur -->
                        <rect x="360" y="60" width="120" height="220" rx="20" ry="20" fill="#111827" stroke="#4b5563" stroke-width="3"/>
                        <rect x="380" y="90" width="80" height="80" rx="10" ry="10" fill="#0f172a" stroke="#1f2937" stroke-width="2"/>
                        <rect x="380" y="190" width="80" height="60" rx="10" ry="10" fill="#0f172a" stroke="#1f2937" stroke-width="2"/>
                        <text x="420" y="50" text-anchor="middle" class="pwr-label">4. Générateur de vapeur</text>

                        <!-- Pompe primaire -->
                        <circle cx="260" cy="260" r="26" fill="#0f172a" stroke="#1f2937" stroke-width="3"/>
                        <path d="M250 250 L270 270 M270 250 L250 270" stroke="#38bdf8" stroke-width="3" stroke-linecap="round"/>
                        <text x="260" y="305" text-anchor="middle" class="pwr-label">3. Pompe primaire</text>

                        <!-- Sortie chaude du cœur vers générateur -->
                        <path class="flow-hot" d="M200 120 C 260 120 260 120 320 120 L 360 120"/>
                        <!-- Retour froid du générateur vers pompe puis plénum -->
                        <path class="flow-cold" d="M360 220 L 320 220 C 280 220 260 230 260 240 C 260 250 250 260 240 260 L 200 260 L 140 260"/>

                        <!-- Flèche interne cœur (montée) -->
                        <path class="flow-hot" d="M140 240 L140 130"/>

                        <!-- Sortie vapeur (secondaire) -->
                        <path class="flow-hot" d="M420 90 L420 40 L520 40"/>
                        <text x="520" y="30" text-anchor="middle" class="pwr-label">Sortie vapeur</text>

                        <!-- Entrée eau d’alimentation -->
                        <path class="flow-cold" d="M520 80 L420 80"/>
                        <text x="520" y="95" text-anchor="middle" class="pwr-label">Eau d’alimentation</text>

                        <text x="280" y="110" text-anchor="middle" class="pwr-label">5. Sortie primaire chaude</text>
                    </svg>
                </div>
                <p class="note" style="margin-top:6px;">
                    Ici, le coefficient de vide est conçu pour être <strong>négatif</strong> : si l’eau bout, la réactivité diminue,
                    ce qui stabilise le réacteur, à l’inverse du RBMK.
                </p>
            </div>

            <!-- Nuage Europe -->
            <div id="nuage" class="card map-card">
                <div class="map-header">
                    <h3 style="margin:0;">5. Nuage radioactif au‑dessus de l’Europe</h3>
                    <div class="controls">
                        <button class="btn" data-day="0">26 avril</button>
                        <button class="btn" data-day="1">27 avril</button>
                        <button class="btn" data-day="2">28 avril</button>
                        <button class="btn" data-day="3">29 avril</button>
                        <button class="btn" data-day="4">30 avril</button>
                        <button class="btn" data-day="5">1er mai</button>
                    </div>
                </div>
                <p class="note" id="day-text">
                    26 avril : le panache commence à s’élever au‑dessus de la centrale et des régions proches (Ukraine, Biélorussie).
                </p>
                <div class="map-wrapper">
                    <div class="day-label" id="day-label">Jour 1 – 26 avril 1986</div>
                    <svg viewBox="0 0 600 260">
                        <rect x="0" y="0" width="600" height="260" fill="#020617" rx="16"/>
                        <!-- Europe simplifiée -->
                        <path d="M80 180 Q120 120 180 110 Q220 90 260 100 Q300 110 340 100 Q380 90 420 110 Q460 130 500 150 Q520 170 520 190 Q500 210 460 210 Q420 210 380 200 Q340 190 300 190 Q260 190 220 200 Q180 210 140 210 Q100 210 80 190 Z"
                              fill="#1e293b" stroke="#0f172a" stroke-width="2"/>
                        <!-- Ukraine / Biélorussie zone -->
                        <ellipse cx="260" cy="150" rx="40" ry="26" fill="rgba(248,113,113,0.4)" stroke="#ef4444" stroke-width="2"/>
                        <text x="260" y="145" text-anchor="middle" class="pwr-label">Zone la plus touchée</text>
                        <text x="260" y="230" text-anchor="middle" class="pwr-label">Nuage radioactif se déplaçant vers l’Europe</text>
                    </svg>
                    <div class="cloud-layer" id="cloud-layer">
                        <!-- Jour 1 : autour de Tchernobyl -->
                        <div class="cloud-shape" data-cloud="0" style="width:120px;height:70px;left:220px;top:110px;"></div>
                        <!-- Jour 2 : vers nord-ouest -->
                        <div class="cloud-shape" data-cloud="1" style="width:160px;height:80px;left:260px;top:90px;"></div>
                        <!-- Jour 3 : Pologne / pays nordiques -->
                        <div class="cloud-shape" data-cloud="2" style="width:200px;height:90px;left:310px;top:70px;"></div>
                        <!-- Jour 4 : Europe centrale -->
                        <div class="cloud-shape" data-cloud="3" style="width:220px;height:100px;left:320px;top:110px;"></div>
                        <!-- Jour 5 : Europe de l’Ouest -->
                        <div class="cloud-shape" data-cloud="4" style="width:240px;height:110px;left:260px;top:120px;"></div>
                        <!-- Jour 6 : dispersion plus large -->
                        <div class="cloud-shape" data-cloud="5" style="width:280px;height:130px;left:260px;top:90px;"></div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <footer>
        Pour GitHub Pages : crée un dépôt, ajoute ce fichier comme <code>index.html</code>, active GitHub Pages, et ouvre l’URL.
        Tu peux ensuite affiner les couleurs, les textes ou ajouter d’autres vues (coupe verticale, salle des machines, etc.).
    </footer>
</div>

<script>
(function () {
    /* RBMK timeline */
    const body = document.body;
    const steps = Array.from(document.querySelectorAll(".timeline-step"));
    const voidNote = document.getElementById("void-note");
    const playBtn = document.getElementById("play-sequence");
    const resetBtn = document.getElementById("reset-sequence");

    const states = [
        {
            key: "stable",
            note: "État stable : le vide est modéré, la puissance est contrôlée."
        },
        {
            key: "unstable",
            note: "Le vide augmente : plus de vapeur, moins d’absorption par l’eau, la réactivité monte."
        },
        {
            key: "az5",
            note: "Les barres descendent, mais la pointe en graphite augmente d’abord la réactivité dans le bas du cœur."
        },
        {
            key: "deformation",
            note: "Les canaux se déforment, certaines barres se coincent : l’arrêt complet est impossible, la puissance explose."
        },
        {
            key: "explosion",
            note: "Explosion de vapeur, destruction du cœur, incendie du graphite et rejets massifs de radioactivité."
        }
    ];

    function setState(index) {
        const state = states[index];
        if (!state) return;
        body.setAttribute("data-rbmk", state.key);
        steps.forEach((step, i) => {
            step.classList.toggle("active", i === index);
        });
        voidNote.textContent = state.note;
    }

    steps.forEach(step => {
        step.addEventListener("click", () => {
            const index = parseInt(step.getAttribute("data-index"), 10);
            setState(index);
        });
    });

    let playing = false;
    let playTimeout = null;

    function playSequence() {
        if (playing) return;
        playing = true;
        let i = 0;
        function next() {
            setState(i);
            i++;
            if (i < states.length) {
                playTimeout = setTimeout(next, 1600);
            } else {
                playing = false;
            }
        }
        next();
    }

    function resetSequence() {
        playing = false;
        if (playTimeout) {
            clearTimeout(playTimeout);
            playTimeout = null;
        }
        setState(0);
    }

    playBtn.addEventListener("click", playSequence);
    resetBtn.addEventListener("click", resetSequence);
    setState(0);

    /* Tooltips “?” */
    const tooltipDefinitions = {
        rbmk: {
            title: "RBMK‑1000",
            text: "Type de réacteur soviétique : modéré au graphite, refroidi à l’eau, avec des canaux de pression. Puissant, mais avec un coefficient de vide positif et des défauts de sûreté."
        },
        graphite: {
            title: "Graphite (modérateur)",
            text: "Matériau qui ralentit les neutrons sans trop les absorber. Dans le RBMK, le graphite permet aux neutrons de rester efficaces pour provoquer des fissions."
        },
        eau: {
            title: "Eau légère (refroidissement)",
            text: "L’eau circule dans les canaux pour évacuer la chaleur du combustible. Elle absorbe aussi une partie des neutrons, ce qui influence la réactivité."
        },
        canaux: {
            title: "Canaux de pression",
            text: "Tubes individuels contenant le combustible et l’eau sous pression. Contrairement à une cuve unique (PWR), chaque canal est séparé, ce qui complique la sûreté."
        },
        vide: {
            title: "Coefficient de vide positif",
            text: "Quand l’eau bout, elle se transforme en vapeur qui absorbe moins les neutrons que l’eau liquide. Dans le RBMK, cela augmente la réactivité au lieu de la diminuer."
        },
        "vide-negatif": {
            title: "Coefficient de vide négatif",
            text: "Dans un PWR, si l’eau bout, la réactivité diminue. C’est une sécurité naturelle : plus de vapeur → moins de puissance."
        },
        "barres": {
            title: "Barres de contrôle",
            text: "Éléments mobiles qui absorbent les neutrons. En les insérant dans le cœur, on réduit la réactivité et la puissance du réacteur."
        },
        "barres-graphite": {
            title: "Pointe en graphite des barres",
            text: "Dans le RBMK, la partie basse des barres est en graphite. Au début de l’insertion, elle remplace l’eau et augmente localement la réactivité, ce qui est dangereux."
        },
        fission: {
            title: "Fission nucléaire",
            text: "Un noyau lourd (comme l’uranium‑235) se casse en deux noyaux plus légers, libérant de l’énergie et des neutrons qui peuvent provoquer d’autres fissions."
        }
    };

    let currentTooltip = null;

    function closeTooltip() {
        if (currentTooltip && currentTooltip.parentNode) {
            currentTooltip.parentNode.removeChild(currentTooltip);
        }
        currentTooltip = null;
    }

    document.addEventListener("click", (e) => {
        const dot = e.target.closest(".info-dot");
        if (!dot) {
            closeTooltip();
            return;
        }
        const key = dot.getAttribute("data-tooltip");
        const def = tooltipDefinitions[key];
        if (!def) return;

        if (currentTooltip && currentTooltip.dataset.key === key) {
            closeTooltip();
            return;
        }

        closeTooltip();

        const tooltip = document.createElement("div");
        tooltip.className = "tooltip";
        tooltip.dataset.key = key;
        tooltip.innerHTML = `
            <div class="tooltip-title">${def.title}</div>
            <div>${def.text}</div>
            <div class="tooltip-arrow"></div>
        `;

        dot.appendChild(tooltip);
        currentTooltip = tooltip;
    });

    /* Nuage Europe jour par jour */
    const dayButtons = Array.from(document.querySelectorAll("#nuage .btn"));
    const clouds = Array.from(document.querySelectorAll(".cloud-shape"));
    const dayLabel = document.getElementById("day-label");
    const dayText = document.getElementById("day-text");

    const dayInfos = [
        {
            label: "Jour 1 – 26 avril 1986",
            text: "26 avril : le panache commence à s’élever au‑dessus de la centrale et des régions proches (Ukraine, Biélorussie)."
        },
        {
            label: "Jour 2 – 27 avril 1986",
            text: "27 avril : le nuage se déplace vers le nord et le nord‑ouest, touchant davantage la Biélorussie et l’ouest de la Russie."
        },
        {
            label: "Jour 3 – 28 avril 1986",
            text: "28 avril : des niveaux anormaux de radioactivité sont détectés en Suède et en Finlande, révélant l’accident au reste du monde."
        },
        {
            label: "Jour 4 – 29 avril 1986",
            text: "29 avril : le panache se déplace vers l’Europe centrale (Pologne, Allemagne, Tchécoslovaquie, etc.)."
        },
        {
            label: "Jour 5 – 30 avril 1986",
            text: "30 avril : le nuage atteint une partie de l’Europe de l’Ouest, selon les vents et les conditions météo."
        },
        {
            label: "Jour 6 – 1er mai 1986",
            text: "1er mai : le panache est largement dispersé au‑dessus de l’Europe, avec des dépôts variables selon les pluies."
        }
    ];

    function setDay(dayIndex) {
        clouds.forEach(c => {
            const idx = parseInt(c.getAttribute("data-cloud"), 10);
            c.classList.toggle("cloud-visible", idx === dayIndex);
        });
        dayLabel.textContent = dayInfos[dayIndex].label;
        dayText.textContent = dayInfos[dayIndex].text;
        dayButtons.forEach((btn, i) => {
            btn.classList.toggle("btn-primary", i === dayIndex);
        });
    }

    dayButtons.forEach((btn, index) => {
        btn.addEventListener("click", () => setDay(index));
    });

    setDay(0);
})();
</script>
</body>
</html>
